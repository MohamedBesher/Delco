@using Saned.Delco.Admin.Controllers
@using Saned.Delco.Data.Core.Enum
@using Saned.Delco.Data.Core.Models
@model Saned.Delco.Admin.Models.RequestSearchModel




@{
    ViewBag.Title = ViewBag.IsAgent ? "طلبات المندوب" : "طلبات المستخدم";
}


<div class="col-sm-12">
    <div class="card-box table-responsive">

        <div class="header-title m-t-0 m-b-30">
            @if (ViewBag.IsAgent)
            {
                <div>
                    طلبات المندوب
                </div>

            }
            else
            {
                <div>
                    طلبات المستخدم
                </div>

            }
        </div>


        <div class="row">

            <div id="userdetails">
                <ul class="nav nav-tabs">
                
                    @if (!ViewBag.IsAgent)
                    {
                        <li class="active"><a data-toggle="tab" href="#new">الطلبات المعروضة</a></li>

                        
                        <li><a data-toggle="tab" href="#inProgress">الطلبات قيد التنفيذ</a></li>
                        <li><a data-toggle="tab" href="#delivered">الطلبات المنفذة</a></li>

                        <li><a data-toggle="tab" href="#cancel">الطلبات المحذوفة</a></li>

                    }
                    else
                    {
                        @*<li class="active"><a data-toggle="tab" href="#details">تفاصيل المندوب</a></li>*@

                        <li class="active" ><a data-toggle="tab" href="#inProgress">الطلبات قيد التنفيذ</a></li>
                        <li><a data-toggle="tab" href="#delivered">الطلبات المنفذة</a></li>


                    }


                </ul>

                <div class="tab-content">

                    

                    @if (!ViewBag.IsAgent)
                    {
                        <div id="new" class="tab-pane fade in active">
                            @Html.Action("New",
                            new
                            {
                                userId = ViewBag.UserId,
                                type = ViewBag.Type

                            })

                        </div>
                        <div id="cancel" class="tab-pane fade">
                            @Html.Action("Canceled",
                               new
                               {
                                   userId = ViewBag.UserId,
                                   type = ViewBag.Type

                               })
                        </div>
                    }
                    
                    
@if (ViewBag.IsAgent)
{

    @*<div id="details" class="tab-pane fade in active">

        @Html.Action("_AgentDetails",
                               new
                               {
                                   id = ViewBag.UserId
                               })


    </div>*@
     
    <div id="inProgress" class="tab-pane fade in active">

        @Html.Action("InProgress",
                               new
                               {
                                   userId = ViewBag.UserId,
                                   type = ViewBag.Type

                               })


    </div>
}
else
{
    <div id="inProgress" class="tab-pane fade">

        @Html.Action("InProgress",
                               new
                               {
                                   userId = ViewBag.UserId,
                                   type = ViewBag.Type

                               })


    </div>
}
                    

                    <div id="delivered" class="tab-pane fade">

                        @Html.Action("Delivered",
                               new
                               {
                                   userId = ViewBag.UserId,
                                   type = ViewBag.Type
                               })

                    </div>



                </div>
            </div>

        </div>





    </div>
</div>
